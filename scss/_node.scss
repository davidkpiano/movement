

@function AnimationNode(
    $target: &,
    $name: $target,
    $timing: default,
    $parent: null
) {
    $node-id: unique-id();
    $node-timing: new(AnimationTiming, $timing);
    $node-parent: $parent;
    $node-previousSibling: null;
    $node-nextSibling: null;

    @return (
        id: $node-id,
        timing: $node-timing,
        parent: $node-parent,
        children: (),
        previousSibling: $node-previousSibling,
        nextSibling: $node-nextSibling
    );
}

@mixin node(
    $target: &,
    $timing: default
) {
    $node: new(AnimationNode, (
        target: $target,
        timing: $timing
    ));

    @include mv-node($node) {
        @content;
    }
}